<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>JNR_COLLECTION</title>
<style>
:root{ --accent:#0b7fa3; --muted:#6b6b6b; --card-bg: #fff; --bg:#f4f6f8; --glass: rgba(255,255,255,0.6); --radius:14px; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
body{margin:0;background:var(--bg);color:#111;line-height:1.35}
header{background:linear-gradient(90deg,#ffffff 0%, #f7fbfd 100%);border-bottom:1px solid #e6e9ec;position:sticky;top:0;z-index:60}
.container{max-width:1180px;margin:0 auto;padding:18px}
.top{display:flex;gap:12px;align-items:center;justify-content:space-between}
.brand{display:flex;gap:12px;align-items:center}
.logo{font-weight:700;font-size:20px;color:var(--accent)}
.search{flex:1;margin-left:18px}
.search input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #ddd;background:white}
.cart-btn{background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;border:none;cursor:pointer}
main{padding:18px 0}
.layout{display:grid;grid-template-columns:280px 1fr;gap:20px;max-width:1180px;margin:0 auto;padding:0 18px}
.filters{background:var(--card-bg);border-radius:12px;padding:14px;border:1px solid #e6e9ec;position:relative}
.filters h3{margin:0 0 8px 0;font-size:16px}
.filter-group{margin-bottom:12px}
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chip{padding:8px 10px;border-radius:999px;border:1px solid #ddd;background:#fafafa;cursor:pointer;font-size:13px}
.chip.active{background:var(--accent);color:#fff;border:none}
.price-range{display:flex;gap:8px;align-items:center}
.price-range input[type=range]{width:100%}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.card{background:var(--card-bg);border-radius:12px;overflow:hidden;border:1px solid #e6e9ec;display:flex;flex-direction:column}
.media{height:180px;overflow:hidden;background:#eee;display:flex;align-items:center;justify-content:center;cursor:pointer}
.media img{width:100%;height:100%;object-fit:cover}
.card-body{padding:12px;flex:1;display:flex;flex-direction:column;gap:10px}
.title{font-weight:600;font-size:15px}
.meta{color:var(--muted);font-size:13px}
.price-row{display:flex;align-items:center;justify-content:space-between;gap:8px}
.price{font-weight:700}
.actions{display:flex;gap:8px}
.btn{flex:1;padding:8px 10px;border-radius:10px;border:none;cursor:pointer}
.btn.add{background:#f0f0f0}
.btn.buy{background:var(--accent);color:#fff}
.cart-drawer{position:fixed;right:18px;bottom:18px;background:var(--card-bg);width:360px;max-width:calc(100% - 40px);border-radius:12px;border:1px solid #e6e9ec;padding:12px;box-shadow:0 6px 20px rgba(10,10,10,0.08);display:none}
.cart-drawer h4{margin:0 0 8px 0}
.cart-item{display:flex;gap:8px;align-items:center;border-bottom:1px dashed #eee;padding:8px 0}
.cart-item img{width:56px;height:40px;object-fit:cover;border-radius:8px}
.qty{display:flex;gap:6px;align-items:center}
.qty button{padding:6px 8px;border-radius:6px;border:1px solid #ddd;background:#fafafa}
.checkout{display:flex;gap:8px;margin-top:10px}
.checkout .btn{padding:10px;border-radius:10px}
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:80}
.modal{background:white;border-radius:12px;padding:18px;max-width:520px;width:100%;box-shadow:0 10px 40px rgba(0,0,0,0.15)}
.modal h3{margin-top:0}
.field{display:flex;flex-direction:column;margin-bottom:10px}
.field label{font-size:13px;margin-bottom:6px;color:var(--muted)}
.field input, .field select{padding:10px;border-radius:8px;border:1px solid #e0e0e0}
.small{font-size:13px;color:var(--muted)}
@media (max-width:980px){ .layout{grid-template-columns:1fr;gap:12px} .grid{grid-template-columns:repeat(2,1fr)} .cart-drawer{right:12px;left:12px;bottom:12px} }
@media (max-width:600px){ .grid{grid-template-columns:1fr} .media{height:220px} .top{flex-direction:column;align-items:stretch;gap:12px} .search{margin-left:0} }
.slider {position:relative;width:100%;height:300px;overflow:hidden;border-radius:12px;background:#000;margin-top:10px;}
.slides {display:flex;transition:0.5s ease-in-out;height:100%;}
.slide {min-width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#000;}
.slide img,.slide video {max-width:100%;max-height:100%;border-radius:12px;}
.nav-btn {position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.5);border:none;color:#fff;font-size:24px;padding:8px 12px;cursor:pointer;border-radius:8px;}
.prev {left:10px;} .next {right:10px;}
.thumbnails {display:flex;justify-content:center;margin-top:10px;gap:6px;}
.thumb {width:60px;height:40px;cursor:pointer;border-radius:6px;overflow:hidden;border:2px solid transparent;}
.thumb img,.thumb video {width:100%;height:100%;object-fit:cover;}
.thumb.active {border-color:var(--accent);}
</style>
</head>
<body>
<header>
<div class="container">
<div class="top">
<div class="brand">
<div class="logo"><img src="images/JPG1.png" alt="JNR Logo"><p>JNR_COLLECTION</p></div>
<div class="small"><strong>Jednoraz√≥wki</strong> ‚Äî najlepsze wybory</div>
</div>
<div class="search">
<input id="searchInput" placeholder="Szukaj produkt√≥w, marek lub smak√≥w..." />
</div>
<div style="display:flex;gap:10px;align-items:center">
<button class="cart-btn" id="openCart">Koszyk (<span id="cartCount">0</span>)</button>
</div>
</div>
</div>
</header>

<main>
<div class="layout">
<aside class="filters" aria-label="Filtry">
<h3>Filtry</h3>
<div class="filter-group">
<div class="small">Marka</div>
<div class="chips" id="brandChips"></div>
</div>
<div class="filter-group">
<div class="small">Cena do: <strong id="priceLabel">150 PLN</strong></div>
<div class="price-range">
<input type="range" id="priceRange" min="10" max="150" value="150" />
</div>
</div>
<div class="filter-group">
<div class="small">Sortuj</div>
<select id="sortSelect" style="width:100%;padding:8px;border-radius:8px;border:1px solid #e6e6e6;">
<option value="popular">Najpopularniejsze</option>
<option value="price-asc">Cena: rosnƒÖco</option>
<option value="price-desc">Cena: malejƒÖco</option>
</select>
</div>
<div style="margin-top:8px">
<button id="resetFilters" class="chip">Wyczy≈õƒá filtry</button>
</div>
</aside>
<section>
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px">
<h2 style="margin:0">Kolekcja jednoraz√≥wki</h2>
<div class="small">Produkty: <span id="productCount">0</span></div>
</div>
<div class="grid" id="productsGrid"></div>
</section>
</div>

<div id="modalRoot" style="display:none"></div>

<div id="cartDrawer" class="cart-drawer">
<h4>Koszyk</h4>
<div id="cartList"></div>
<div class="checkout">
<button id="continueShopping" class="btn add">Kontynuuj zakupy</button>
<button id="checkoutBtn" class="btn buy">Checkout</button>
</div>
<div class="small" style="margin-top:10px">≈ÅƒÖczna kwota: <span id="cartTotal">0 PLN</span></div>
</div>

<script>
// ==== –î–ê–ù–ù–´–ï ====
const PRODUCTS = [
{id:"p1",
title:"JNR - RageGorilla - 55K - Jednoraz√≥wki",
brand:"CloudTech",
description:"JNR RageGorilla 55K ‚Äì Moc, Styl i Technologia Bez Granic ü¶çüî• JNR RageGorilla 55K to potƒô≈ºna nowo≈õƒá, kt√≥ra wyznacza nowy poziom w ≈õwiecie jednoraz√≥wek. üí® Wyposa≈ºona w ekran animowany LED üìä, ogromny zbiornik 42 ml e-liquidu üíß i bateriƒô 950 mAh üîã, gwarantuje a≈º 55 000 buch√≥w bez utraty mocy. To nie tylko e papieros ‚Äì to symbol si≈Çy, smaku i nowoczesnej technologii. ‚öôÔ∏è Perfekcyjna dla tych, kt√≥rzy oczekujƒÖ maksymalnej mocy i wyjƒÖtkowego designu.",
price:129,
img:"images/PNG1.1.png",
slides:["images/PNG1.1.png","images/PNG1.2.png","images/PNG1.3.png","images/VIDEO1.1.1.mp4"],
meta:"jednoraz√≥wki | RageGorilla"
},
{id:"p2",
title:"JNR - Falcon Pro - 28K - Jednoraz√≥wki",
brand:"SunVape",
description:"JNR Falcon Pro 28 000 to jednorazowy e-papieros premium, kt√≥ry wyznacza nowy standard w ≈õwiecie u≈ºywania e-papierosa. Dziƒôki niesamowitej pojemno≈õci, innowacyjnym funkcjom i eleganckiemu designowi, jest to model stworzony dla najbardziej wymagajƒÖcych u≈ºytkownik√≥w w Polsce üáµüá±.",
price:99,
img:"images/PNG1.2.png",
slides:["images/PNG1.2.png","images/PNG1.3.png"],
meta:"jednoraz√≥wki | Falcon Pro"
},
{id:"p3",
title:"JNR Alien 10000 - 10K - Jednorazowy E papieros",
brand:"AlienTech",
description:"JNR Alien 10K to jednorazowy e-papieros premium, kt√≥ry ≈ÇƒÖczy wydajno≈õƒá, innowacyjny design i wyjƒÖtkowe smaki. Dziƒôki imponujƒÖcej pojemno≈õci 10 000 buch√≥w, mocy baterii 850 mAh, 20 ml e-liquidu i technologii Dual Mesh Coil, to urzƒÖdzenie zapewnia intensywne i d≈Çugotrwa≈Çe do≈õwiadczenie u≈ºywania e-papierosa.",
price:75,
img:"images/PNG1.3.png",
slides:["images/PNG1.3.png","images/PNG1.4.png"],
meta:"jednoraz√≥wki | Alien"
}
];

let state = {products: PRODUCTS.slice(), cart: JSON.parse(localStorage.getItem('mini_cart_v1') || '[]'), filters:{brand:null,maxPrice:150,search:'',sort:'popular'}};

// ==== TOAST ====
function toast(msg){
  const t=document.createElement('div');
  t.textContent=msg;
  t.style.position='fixed';
  t.style.bottom='20px';
  t.style.right='20px';
  t.style.background='var(--accent)';
  t.style.color='#fff';
  t.style.padding='10px 14px';
  t.style.borderRadius='8px';
  t.style.zIndex='100';
  document.body.appendChild(t);
  setTimeout(()=>document.body.removeChild(t),2000);
}

// ==== BUY MODAL ====
function openBuyModal(productId){
  const product=PRODUCTS.find(p=>p.id===productId);
  if(!product) return;
  const root=document.getElementById('modalRoot');
  root.style.display='flex';
  root.innerHTML=`
  <div class="modal-backdrop" id="buyBackdrop">
    <div class="modal">
      <h3>Kup teraz: ${product.title}</h3>
      <div class="field">
        <label>Wybierz metodƒô p≈Çatno≈õci</label>
        <select id="paymentMethod">
          <option value="visa">Visa</option>
          <option value="mastercard">MasterCard</option>
          <option value="paypal">PayPal</option>
        </select>
      </div>
      <div class="field">
        <label>Kwota</label>
        <input type="text" value="${product.price} PLN" disabled />
      </div>
      <button id="confirmPayment" class="btn buy">Zap≈Çaƒá</button>
      <button id="closeBuy" class="btn" style="margin-left:10px;background:#ccc;color:#111;">Anuluj</button>
    </div>
  </div>`;
  document.getElementById('closeBuy').addEventListener('click',()=>root.style.display='none');
  document.getElementById('buyBackdrop').addEventListener('click', e=>{ if(e.target.id==='buyBackdrop') root.style.display='none';});
  document.getElementById('confirmPayment').addEventListener('click', ()=>{
    const method=document.getElementById('paymentMethod').value;
    toast(`P≈Çatno≈õƒá ${method.toUpperCase()} zako≈Ñczona sukcesem!`);
    root.style.display='none';
  });
}

// ==== SLIDER ====
function openSlider(slidesArr){
  const root=document.getElementById('modalRoot');
  root.style.display='flex';
  let currentIndex=0;
  root.innerHTML=`
  <div class="modal-backdrop" id="sliderBackdrop">
    <div class="modal" style="padding:0;max-width:600px;width:100%;height:350px;position:relative;">
      <div class="slider">
        <div class="slides">
          ${slidesArr.map(s=>s.endsWith('.mp4')?`<div class="slide"><video src="${s}" controls autoplay muted></video></div>`:`<div class="slide"><img src="${s}" alt=""></div>`).join('')}
        </div>
        <button class="nav-btn prev">&#10094;</button>
        <button class="nav-btn next">&#10095;</button>
      </div>
      <div class="thumbnails">
        ${slidesArr.map((s,i)=>s.endsWith('.mp4')?`<div class="thumb ${i===0?'active':''}"><video src="${s}" muted autoplay loop></video></div>`:`<div class="thumb ${i===0?'active':''}"><img src="${s}"></div>`).join('')}
      </div>
      <button id="closeSlider" class="btn" style="position:absolute;top:10px;right:10px;background:var(--accent);color:#fff;">√ó</button>
    </div>
  </div>`;
  const slides=root.querySelector('.slides');
  const slideItems=root.querySelectorAll('.slide');
  const prevBtn=root.querySelector('.prev');
  const nextBtn=root.querySelector('.next');
  const thumbs=root.querySelectorAll('.thumb');
  function showSlide(index){
    if(index<0) index=slideItems.length-1;
    if(index>=slideItems.length) index=0;
    currentIndex=index;
    slides.style.transform=`translateX(-${index*100}%)`;
    thumbs.forEach((t,i)=>t.classList.toggle('active',i===index));
    slideItems.forEach((s,i)=>{
      const vid=s.querySelector('video');
      if(vid){
        if(i===index){ vid.play(); } else { vid.pause(); }
      }
    });
  }
  prevBtn.addEventListener('click', ()=>showSlide(currentIndex-1));
  nextBtn.addEventListener('click', ()=>showSlide(currentIndex+1));
  thumbs.forEach((t,i)=>t.addEventListener('click',()=>showSlide(i)));
  document.getElementById('closeSlider').addEventListener('click',()=>root.style.display='none');
  root.querySelector('#sliderBackdrop').addEventListener('click', e=>{ if(e.target.id==='sliderBackdrop') root.style.display='none';});
  showSlide(0);
}

// ==== –ö–û–†–ó–ò–ù–ê ====
function saveCart(){ localStorage.setItem('mini_cart_v1', JSON.stringify(state.cart)); }
function cartCount(){ return state.cart.reduce((s,i)=>s+i.qty,0); }
function cartSum(){ return state.cart.reduce((s,i)=>s+(i.price*i.qty),0); }
function addToCart(productId,qty=1){
  const prod=PRODUCTS.find(p=>p.id===productId);
  if(!prod) return;
  const existing=state.cart.find(c=>c.id===productId);
  if(existing) existing.qty+=qty;
  else state.cart.push({id:productId,qty:qty,title:prod.title,price:prod.price,img:prod.img});
  saveCart(); updateCartUI(); toast("Dodano do koszyka");
}
function removeFromCart(productId){ state.cart=state.cart.filter(i=>i.id!==productId); saveCart(); updateCartUI(); }
function changeQty(productId,delta){ const item=state.cart.find(i=>i.id===productId); if(!item) return; item.qty=Math.max(1,item.qty+delta); saveCart(); updateCartUI(); }
function updateCartUI(){
  cartList.innerHTML='';
  if(state.cart.length===0){ cartList.innerHTML='<div class="small">Koszyk jest pusty</div>'; }
  else{
    state.cart.forEach(it=>{
      const el=document.createElement('div'); el.className='cart-item';
      el.innerHTML=`<img src="${it.img}" alt="${it.title}"><div style="flex:1"><div style="font-weight:600">${it.title}</div><div class="small">${it.qty} √ó ${it.price} PLN</div></div><div><div class="qty"><button data-id="${it.id}" class="dec">‚àí</button><button data-id="${it.id}" class="inc">+</button><button data-id="${it.id}" class="del">√ó</button></div></div>`;
      cartList.appendChild(el);
    });
    cartList.querySelectorAll('.dec').forEach(b=>b.addEventListener('click', e=>changeQty(e.currentTarget.dataset.id,-1)));
    cartList.querySelectorAll('.inc').forEach(b=>b.addEventListener('click', e=>changeQty(e.currentTarget.dataset.id,1)));
    cartList.querySelectorAll('.del').forEach(b=>b.addEventListener('click', e=>removeFromCart(e.currentTarget.dataset.id)));
  }
  cartCountEl.textContent=cartCount();
  cartTotal.textContent=cartSum()+' PLN';
}

// ==== –§–ò–õ–¨–¢–†–´ ====
const productsGrid=document.getElementById('productsGrid');
const brandChips=document.getElementById('brandChips');
const priceRange=document.getElementById('priceRange');
const priceLabel=document.getElementById('priceLabel');
const productCount=document.getElementById('productCount');
const cartCountEl=document.getElementById('cartCount');
const cartDrawer=document.getElementById('cartDrawer');
const cartList=document.getElementById('cartList');
const cartTotal=document.getElementById('cartTotal');
const searchInput=document.getElementById('searchInput');
const sortSelect=document.getElementById('sortSelect');
const resetFiltersBtn=document.getElementById('resetFilters');

function initBrandChips(){
  const brands=[...new Set(PRODUCTS.map(p=>p.brand))];
  brandChips.innerHTML='';
  brands.forEach(b=>{
    const el=document.createElement('button');
    el.className='chip';
    el.textContent=b;
    el.addEventListener('click',()=>{ state.filters.brand=state.filters.brand===b?null:b; updateUI(); });
    brandChips.appendChild(el);
  });
}

function renderProducts(){
  const f=state.filters;
  let list=PRODUCTS.filter(p=>p.price<=f.maxPrice);
  if(f.brand) list=list.filter(p=>p.brand===f.brand);
  if(f.search){ const s=f.search.toLowerCase(); list=list.filter(p=>(p.title+p.brand+p.description).toLowerCase().includes(s)); }
  if(f.sort==='price-asc') list.sort((a,b)=>a.price-b.price);
  if(f.sort==='price-desc') list.sort((a,b)=>b.price-a.price);

  productsGrid.innerHTML='';
  list.forEach(p=>{
    const card=document.createElement('article'); card.className='card';
    card.innerHTML=`
    <div class="media" data-id="${p.id}"><img src="${p.img}" alt="${p.title}"></div>
    <div class="card-body">
      <div>
        <div class="title">${p.title}</div>
        <div class="meta">${p.brand} ¬∑ ${p.meta}</div>
        <div class="small">${p.description}</div>
      </div>
      <div style="margin-top:auto">
        <div class="price-row">
          <div class="price">${p.price} PLN</div>
          <div class="actions" style="width:50%">
            <button class="btn add" data-id="${p.id}">Dodaj do koszyka</button>
            <button class="btn buy" data-id="${p.id}">Kup teraz</button>
          </div>
        </div>
      </div>
    </div>`;
    productsGrid.appendChild(card);
  });

  productCount.textContent=list.length;
  productsGrid.querySelectorAll('.btn.add').forEach(b=>b.addEventListener('click',(e)=>addToCart(e.currentTarget.dataset.id,1)));
  productsGrid.querySelectorAll('.btn.buy').forEach(b=>b.addEventListener('click',(e)=>openBuyModal(e.currentTarget.dataset.id)));
  Array.from(brandChips.children).forEach(ch=>ch.classList.toggle('active', ch.textContent===state.filters.brand));
  productsGrid.querySelectorAll('.media').forEach(el=>{ el.addEventListener('click', ()=>{ const product=PRODUCTS.find(p=>p.id===el.dataset.id); openSlider(product.slides); }); });
}

// ==== EVENT–´ ====
document.getElementById('openCart').addEventListener('click', ()=>{ cartDrawer.style.display='block'; });
document.getElementById('continueShopping').addEventListener('click', ()=>{ cartDrawer.style.display='none'; });
priceRange.addEventListener('input', ()=>{ state.filters.maxPrice=parseInt(priceRange.value); priceLabel.textContent=priceRange.value+' PLN'; updateUI(); });
searchInput.addEventListener('input', ()=>{ state.filters.search=searchInput.value; updateUI(); });
sortSelect.addEventListener('change', ()=>{ state.filters.sort=sortSelect.value; updateUI(); });
resetFiltersBtn.addEventListener('click', ()=>{
  state.filters={brand:null,maxPrice:150,search:'',sort:'popular'};
  priceRange.value=150;
  priceLabel.textContent='150 PLN';
  searchInput.value='';
  sortSelect.value='popular';
  updateUI();
});

function updateUI(){ renderProducts(); updateCartUI(); }

initBrandChips();
updateUI();
</script>
</body>
</html>
